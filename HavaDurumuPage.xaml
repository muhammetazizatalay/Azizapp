<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="GorselOdev.HavaDurumuPage"
             Title="Hava Durumu">

    <Grid RowDefinitions="Auto, *" Padding="20">
        <HorizontalStackLayout Grid.Row="0" Spacing="10" Margin="0,0,0,20">
            <Entry x:Name="SehirEntry" Placeholder="Şehir adı giriniz..." WidthRequest="200" />
            <Button Text="Ekle" Clicked="SehirEkleClicked" BackgroundColor="DarkSlateBlue" />
        </HorizontalStackLayout>

        <CollectionView x:Name="SehirlerListesi" Grid.Row="1">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame Margin="0,10" Padding="15" BorderColor="LightGray" HasShadow="True">
                        <VerticalStackLayout Spacing="10">
                            <Grid ColumnDefinitions="*, Auto">
                                <Label Text="{Binding SehirAdi}" 
                               FontSize="22" 
                               FontAttributes="Bold" 
                               TextColor="DarkSlateBlue"
                               VerticalOptions="Center" />

                                <Button Grid.Column="1" 
                                Text="Sil" 
                                Clicked="SehirSilClicked" 
                                CommandParameter="{Binding .}"
                                BackgroundColor="Red" 
                                TextColor="White" 
                                HeightRequest="40" 
                                WidthRequest="60" 
                                CornerRadius="20" />
                            </Grid>

                            <Image Source="{Binding DurumResmi}" 
                           HeightRequest="250" 
                           WidthRequest="400" 
                           Aspect="AspectFit" 
                           HorizontalOptions="Center" />
                        </VerticalStackLayout>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </Grid>
</ContentPage>